<div wm-slide>

    <p>
        <img src="http://files.cod3r.com.br/curso-web/imagem1.jpg"
        alt="City's wall"
        width="513" height="342"
        title="City's Wall by Tarso Bessa">
    </p>
    
    <p>
        <img src="http://files.cod3r.com.br/curso-web/imagem2.gif"
        alt="Intro Cod3r"
        height="342"
        title="Cod3r's Intro">
    </p>
    
    <p class="circle">
        <img src="http://files.cod3r.com.br/curso-web/imagem3.png"
        alt="Rio de Janeiro"
        height="342"
        title="Rio de Janeiro">
    </p>
    
    <p class="text">
        <img src="http://files.cod3r.com.br/curso-web/avatar.jpg"
        alt="Avatar"
        height="50"
        align="left">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        Fusce elementum lorem arcu. Praesent vitae nulla venenatis, porta mi vel, euismod velit.
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
    </p>
    
    <p class="city"></p>
    
    <p>
        <picture>
            <source srcset="http://files.cod3r.com.br/curso-web/logo-larga.png"
            media="(min-width: 600px)">
            <img src="http://files.cod3r.com.br/curso-web/logo-estreita.png"
            alt="Logo">
        </picture>
    </p>

</div>

<style>

    .box-slide{
        height: 342px;
        position: center;
    }

    p{
        position: absolute;
        display: none;
    }

    .circle{
        width: 513px;
        background-color: #444;
    }

    .text{
        width: 600px;
    }

    .text img{
        margin: 0.2em 1em 0.2em 1em;
    }

    .city{
        width: 513px;
        height: 342px;
        background-image: url("http://files.cod3r.com.br/curso-web/imagem4.jpg");
        background-position: center;
        background-repeat: no-repeat;
        background-size: 200%;
    }

</style>

<script>
    function move(elem, start, end, step, callback){
        const newStart = start - step
        
        if (newStart < end){
            elem.style.display = 'none'
            callback()
            return
        }
        elem.style.left = newStart + 'px'
        setTimeout(() => move(elem, newStart, end, step, callback), 5)
    }

    function slider(){
        const all_p = document.querySelectorAll("[wm-slide] > p")
        const slides = Array.from(all_p)
        showSlide(slides, slides[0])
    }

    function showSlide(slides, slide){
        slide.style.display = "block"

        const start = innerWidth
        const end = -slide.clientWidth

        slide.style.left = `${start}px`

        move(slide, start, end, 5, () =>{
            slide.style.display = "none"
            showSlide(slides, getNext(slides, slide))
        })
    }

    function getNext(list, current){
        const i = list.indexOf(current) + 1
        return i < list.length ? list[i] : list[0]
    }

    slider()

</script>